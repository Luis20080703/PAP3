// ‚úÖ SOLU√á√ÉO PARA O PROBLEMA DE 403 AO SINCRONIZAR

// Adicione este c√≥digo na linha 106 do api.ts, substituindo a condi√ß√£o existente:

// Apenas for√ßa logout se o utilizador N√ÉO for admin
if (!['admin', 'root'].includes(user.tipo)) {
  console.error('‚ùå Sess√£o substitu√≠da por utilizador n√£o-admin.');
  localStorage.removeItem('current_user');
  localStorage.removeItem('api_token');
  if (typeof window !== 'undefined') {
    alert('Sess√£o substitu√≠da. Fa√ßa login novamente.');
    window.location.href = '/';
  }
  throw new Error('Sess√£o inv√°lida.');
} else {
  // Se for admin mas recebeu 403, apenas loga o erro
  console.warn('‚ö†Ô∏è Admin recebeu 403. Token pode ter sido substitu√≠do.');
  console.warn('üí° Fa√ßa logout manual e login novamente.');
}
